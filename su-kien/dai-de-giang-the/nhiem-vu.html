<div class="modal modal__content" id="modal__mission" style="display: none;">
    <div class="close_modal-full"></div>
    <div class="content-modal">
        <div class="wrapper-modal wpct">
            <div class="title-modal tCenter tUpper flex act jct">
                <div class="name__tit">Nhận lượt quay</div>
            </div>

            <div class="list-mission f-utm_swiss_condensed_b">
                            </div>
            <div class="close_modal"></div>
        </div>
    </div>
</div>

<script>
    var facebookShare = function () {
        $.get("chia-se-facebook.json", function (resp) {
            setTimeout(function () {
                getMission();
                customAlert(resp.message)
            }, 2000);
        }, 'json');
        var url = "../dai-de-giang-the.html";
        var options = 'toolbar=0,status=0,resizable=1,width=626,height=436';
        //window.open(url,'joingroup');

        shareOnFacebook(url);
    };
    var facebookJoinGroup = function (code) {
        $.get("tham-gia-facebook.json", function (resp) {
            setTimeout(function () {
                getMission();
                customAlert(resp.message)
            }, 2000);
        }, 'json');
        var url = "https://www.facebook.com/groups/958640695290292/";
        var options = 'toolbar=0,status=0,resizable=1,width=626,height=436';
        window.open(url,'joingroup');
    };
    var makeTask = function (taskCode) {
        $.post('https://rongthansieucap.vn/su-kien/dai-de-giang-the/kiem-tra-nhiem-vu/' + taskCode, function (resp) {
            if(resp.status == 1) {
                getMission();
            }
            customAlert(resp.message)
        }, 'json');
    };
    var completeTask = function (taskCode) {
        $.post('https://rongthansieucap.vn/su-kien/dai-de-giang-the/hoan-thanh-nhiem-vu/' + taskCode, function (resp) {
            if(resp.status == 1) {
                getMission();
                getUserInfo();
            }
            customAlert(resp.message)
        }, 'json');
    };

    function shareOnFacebook(url) {
        const facebookUrl = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(url)}`;
        
        // Calculate popup dimensions and position
        const popupWidth = 600;
        const popupHeight = 400;
        const screenWidth = window.screen.width;
        const screenHeight = window.screen.height;
        const left = (screenWidth - popupWidth) / 2;
        const top = (screenHeight - popupHeight) / 2;

        // Open popup window in center of the screen
        const popup = window.open(facebookUrl, '_blank', `width=${popupWidth},height=${popupHeight},left=${left},top=${top}`);
        
        // Focus the popup (if allowed by the browser)
        if (popup) {
            popup.focus();
        }
    }
        
        // // Usage
        // var shareUrl = 'https://rongthansieucap.vn/su-kien/dai-de-giang-the';
        // document.getElementById('sharefb').addEventListener('click', function() {
        //     shareOnFacebook(shareUrl);
        // });
</script>