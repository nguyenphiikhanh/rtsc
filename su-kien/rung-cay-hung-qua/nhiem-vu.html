<div class="modal modal__content" id="modal__mission" style="display: none;">
    <div class="close_modal-full"></div>
    <div class="content-modal">
        <div class="wrapper-modal wpct">


            <div class="title-modal tCenter tUpper dFlex aCenter jCenter futm_cookies p-r">
                <span>nhiệm vụ</span>
                <img src="../../assets/frontend/events/noel2023/images/modal/img__bell.png" class="p-a img__bell">
            </div>

            <div class="list-mission f-utm_swiss_condensed_b">

                <div class="item-mission itemMs__null dFlex aCenter jCenter m__inline">
                    <div class="stt dFlex aCenter jCenter">
                        <img src="../../assets/frontend/events/noel2023/images/modal/stt.png" alt="">
                    </div>
                    <div class="des-mission">
                        <div class="des-top dFlex">
                            <span class="c-yp c-red fRobotoB">Nhiệm vụ hằng ngày</span>
                        </div>
                    </div>
                    <div style="opacity: 0;" class="btn-get-luot btn__mission bd__green c-white fRobotoB  c-pointer tUpper tCenter dFlex aCenter jCenter  btn-tranY"><span>Báo Danh</span></div>
                </div>

                
                <div class="item-mission itemMs__null dFlex aCenter jCenter m__inline">
                    <div class="stt dFlex aCenter jCenter">
                        <img src="../../assets/frontend/events/noel2023/images/modal/stt.png" alt="">
                    </div>
                    <div class="des-mission">
                        <div class="des-top dFlex">
                            <span class="c-yp c-red fRobotoB">Nhiệm vụ tuần hoàn:</span>
                        </div>
                    </div>
                    <div style="opacity: 0;" class="btn-get-luot btn__green bd__green c-white fRobotoB  c-pointer tUpper tCenter dFlex aCenter jCenter  btn-tranY"><span>Báo Danh</span></div>
                </div>
                                <div class="t__nap">Nạp tiền vào game nhận lần Rung Cây tương đương mệnh giá nạp.</div>
                <div class="t__nap"><a style="text-decoration: underline;" class="c-blue" href="#" target="_blank"><i>Xem chi tiết tại đây.</i></a></div>


            </div>

            <div class="close_modal"></div>

            <img src="../../assets/frontend/events/noel2023/images/modal/img__vo.png" class="p-a img__vo">
            <img src="../../assets/frontend/events/noel2023/images/modal/img__top.png" class="p-a img__top">
            <img src="../../assets/frontend/events/noel2023/images/modal/img__bottom.png" class="p-a img__bottom">


        </div>
    </div>
</div>

<script>
    var facebookShare = function () {
        $.get("chia-se-facebook.json", function (resp) {
            setTimeout(function () {
                getMission();
                customAlert(resp.message)
            }, 2000);
        }, 'json');
        var url = "../rung-cay-hung-qua.html";
        var options = 'toolbar=0,status=0,resizable=1,width=626,height=436';
        //window.open(url,'joingroup');

        shareOnFacebook(url);
    };
    var facebookJoinGroup = function (code) {
        $.get("tham-gia-facebook.json", function (resp) {
            setTimeout(function () {
                getMission();
                customAlert(resp.message)
            }, 2000);
        }, 'json');
        var url = "https://www.facebook.com/groups/958640695290292/";
        var options = 'toolbar=0,status=0,resizable=1,width=626,height=436';
        window.open(url,'joingroup');
    };
    var makeTask = function (taskCode) {
        $.post('https://rongthansieucap.vn/su-kien/rung-cay-hung-qua/kiem-tra-nhiem-vu/' + taskCode, function (resp) {
            if(resp.status == 1) {
                getMission();
            }
            customAlert(resp.message)
        }, 'json');
    };
    var completeTask = function (taskCode) {
        $.post('https://rongthansieucap.vn/su-kien/rung-cay-hung-qua/hoan-thanh-nhiem-vu/' + taskCode, function (resp) {
            if(resp.status == 1) {
                getMission();
                getUserInfo();
            }
            customAlert(resp.message)
        }, 'json');
    };

    function shareOnFacebook(url) {
        const facebookUrl = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(url)}`;
        
        // Calculate popup dimensions and position
        const popupWidth = 600;
        const popupHeight = 400;
        const screenWidth = window.screen.width;
        const screenHeight = window.screen.height;
        const left = (screenWidth - popupWidth) / 2;
        const top = (screenHeight - popupHeight) / 2;

        // Open popup window in center of the screen
        const popup = window.open(facebookUrl, '_blank', `width=${popupWidth},height=${popupHeight},left=${left},top=${top}`);
        
        // Focus the popup (if allowed by the browser)
        if (popup) {
            popup.focus();
        }
        }
        
        // Usage
        var shareUrl = '../rung-cay-hung-qua.html';
        document.getElementById('sharefb').addEventListener('click', function() {
            shareOnFacebook(shareUrl);
        });
</script>